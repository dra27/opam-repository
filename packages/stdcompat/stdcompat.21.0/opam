opam-version: "2.0"
synopsis: "Compatibility module for OCaml standard library"
description:
  "Compatibility module for OCaml standard library allowing programs to use some recent additions to the OCaml standard library while preserving the ability to be compiled on former versions of OCaml."
maintainer: "SÃ©bastien Hinderer <sebastien.hinderer@inria.fr>"
authors: "Thierry Martinez <martinez@nsup.org>"
license: "LGPL-2.1-or-later"
homepage: "https://github.com/ocamllibs/stdcompat"
bug-reports: "https://github.com/ocamllibs/stdcompat/issues"
depends: [
  "ocaml" {>= "4.11" & < "5.4"}
  "dune" {>= "2.0"}
]
build: [
  ["dune" "subst"] {dev}
  ["dune" "build" "-p" name "-j" jobs]
  ["dune" "runtest" "-p" name "-j" jobs] {with-test}
]
dev-repo: "git+https://github.com/ocamllibs/stdcompat.git"
url {
  src:
    "https://github.com/ocamllibs/stdcompat/archive/refs/tags/21.0.tar.gz"
  checksum: [
    "sha512=6763bb6b2998cd665ccf401dcb0e515ebb2ed9038f20ea3595d75a0dc77bf001ec76253b91ebd9b85c10ce1570864f35cf495da31d57f0f7f52237ab56ee057c"
  ]
}
patches: ["relocatable.patch"]
extra-source "relocatable.patch" {
  src: "https://github.com/dra27/stdcompat/commit/b77e947f37d34751aee230ea26185bff33823836.patch?full_index=1"
  checksum: "sha256=a7d1a84833ac26d118f88eaad1fe2410cca2a619c4f79b30e7b4062210f0b369"
}
