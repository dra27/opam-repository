Extend record punning to allow destructuring.
Target branch: trunk