Use a GADT for socket options
Target branch: trunk